
############################################################################
#
# AVI CONFIDENTIAL
# __________________
#
# [2013] - [2018] Avi Networks Incorporated
# All Rights Reserved.
#
# NOTICE: All information contained herein is, and remains the property
# of Avi Networks Incorporated and its suppliers, if any. The intellectual
# and technical concepts contained herein are proprietary to Avi Networks
# Incorporated, and its suppliers and are covered by U.S. and Foreign
# Patents, patents in process, and are protected by trade secret or
# copyright law, and other laws. Dissemination of this information or
# reproduction of this material is strictly forbidden unless prior written
# permission is obtained from Avi Networks Incorporated.
###

# GENERATED FILE - DO NOT EDIT THIS FILE UNLESS YOU ARE A WIZZARD
#pylint:  skip-file
import sys, os, uuid, copy
from django.db import models
from rest_framework import serializers
from rest_framework import relations
from avi.rest.models import GenBase, AviSlugField
from avi.rest.avijsonfield import AviJsonField
from avi.protobuf_json.protobuf_json import json2pb
from permission.models_initial_configuration import UpgradeInstance
from api.db_utils import (
    save_model_object, delete_model_object, get_model_object,
    get_model_protobuf, get_model_protobuf_extension, integer_validator,
    big_integer_validator, positive_integer_validator, parse_blob_into_pb
)
from avi.djorm_pgbytea.bytea import ByteaField
from django_pgjson.fields import JsonField
from avi.rest.json_db_utils import transform_json_refs_to_uuids

from models_common import *
from models_options import *
from models_cloud_objects import *
from models_network import *

INITIAL_VALUE = 0
CREATE_SE = 1
MODIFY_VNIC = 2
VM_MONITOR = 3
RESOURCE_MONITOR = 4
PERF_MONITOR = 5
SET_MGMT_IP = 6
MODIFY_MGMT_IP = 7
SIM_VM_BULK_NOTIF = 8
RESYNC_ERROR = 9
SIMULATE_OVA_ERR = 10
VCENTER_NO_OBJECTS = 11
CREATE_VM_RUNTIME_ERR = 12
DISC_PGNAME_ERR = 30
DISC_DCDETAILS_ERR = 31
DISC_DC_ERR = 32
DISC_HOST_ERR = 33
DISC_CLUSTER_ERR = 34
DISC_PG_ERR = 35
DISC_VM_ERR = 36
HOST_PWR_STATE_ERR = 37
HOST_CONN_STATE_ERR = 38
HOST_MM_ERR = 39
HOST_QUARANTINED_ERR = 40
HOST_CTLR_ACCESS_ERR = 41
HOST_NO_MGMT_ERR = 42
HOST_NO_CPU_ERR = 43
HOST_NO_MEM_ERR = 44
HOST_NO_DISK_ERR = 45
CREATE_SE_VIMGR = 46
DELETE_SE_VIMGR = 47
SLOW_VCENTER_ACCESS = 48
CLEAR_ALL_FAULTS = 49
FAULT_API_TYPEChoices = (
    (INITIAL_VALUE, 'INITIAL_VALUE'),
    (CREATE_SE, 'CREATE_SE'),
    (MODIFY_VNIC, 'MODIFY_VNIC'),
    (VM_MONITOR, 'VM_MONITOR'),
    (RESOURCE_MONITOR, 'RESOURCE_MONITOR'),
    (PERF_MONITOR, 'PERF_MONITOR'),
    (SET_MGMT_IP, 'SET_MGMT_IP'),
    (MODIFY_MGMT_IP, 'MODIFY_MGMT_IP'),
    (SIM_VM_BULK_NOTIF, 'SIM_VM_BULK_NOTIF'),
    (RESYNC_ERROR, 'RESYNC_ERROR'),
    (SIMULATE_OVA_ERR, 'SIMULATE_OVA_ERR'),
    (VCENTER_NO_OBJECTS, 'VCENTER_NO_OBJECTS'),
    (CREATE_VM_RUNTIME_ERR, 'CREATE_VM_RUNTIME_ERR'),
    (DISC_PGNAME_ERR, 'DISC_PGNAME_ERR'),
    (DISC_DCDETAILS_ERR, 'DISC_DCDETAILS_ERR'),
    (DISC_DC_ERR, 'DISC_DC_ERR'),
    (DISC_HOST_ERR, 'DISC_HOST_ERR'),
    (DISC_CLUSTER_ERR, 'DISC_CLUSTER_ERR'),
    (DISC_PG_ERR, 'DISC_PG_ERR'),
    (DISC_VM_ERR, 'DISC_VM_ERR'),
    (HOST_PWR_STATE_ERR, 'HOST_PWR_STATE_ERR'),
    (HOST_CONN_STATE_ERR, 'HOST_CONN_STATE_ERR'),
    (HOST_MM_ERR, 'HOST_MM_ERR'),
    (HOST_QUARANTINED_ERR, 'HOST_QUARANTINED_ERR'),
    (HOST_CTLR_ACCESS_ERR, 'HOST_CTLR_ACCESS_ERR'),
    (HOST_NO_MGMT_ERR, 'HOST_NO_MGMT_ERR'),
    (HOST_NO_CPU_ERR, 'HOST_NO_CPU_ERR'),
    (HOST_NO_MEM_ERR, 'HOST_NO_MEM_ERR'),
    (HOST_NO_DISK_ERR, 'HOST_NO_DISK_ERR'),
    (CREATE_SE_VIMGR, 'CREATE_SE_VIMGR'),
    (DELETE_SE_VIMGR, 'DELETE_SE_VIMGR'),
    (SLOW_VCENTER_ACCESS, 'SLOW_VCENTER_ACCESS'),
    (CLEAR_ALL_FAULTS, 'CLEAR_ALL_FAULTS'),
)
CDP = 1
LLDP = 2
NOT_APPLICABLE = 3
PNIC_SWITCH_INFOChoices = (
    (CDP, 'CDP'),
    (LLDP, 'LLDP'),
    (NOT_APPLICABLE, 'NOT_APPLICABLE'),
)
VCENTER_DATASTORE_ANY = 1
VCENTER_DATASTORE_LOCAL = 2
VCENTER_DATASTORE_SHARED = 3
VcenterDatastoreModeChoices = (
    (VCENTER_DATASTORE_ANY, 'VCENTER_DATASTORE_ANY'),
    (VCENTER_DATASTORE_LOCAL, 'VCENTER_DATASTORE_LOCAL'),
    (VCENTER_DATASTORE_SHARED, 'VCENTER_DATASTORE_SHARED'),
)
VCENTER_DISCOVERY_BAD_CREDENTIALS = 0
VCENTER_DISCOVERY_RETRIEVING_DC = 1
VCENTER_DISCOVERY_WAITING_DC = 2
VCENTER_DISCOVERY_RETRIEVING_NW = 3
VCENTER_DISCOVERY_ONGOING = 4
VCENTER_DISCOVERY_RESYNCING = 5
VCENTER_DISCOVERY_COMPLETE = 6
VCENTER_DISCOVERY_DELETING_VCENTER = 7
VCENTER_DISCOVERY_FAILURE = 8
VCENTER_DISCOVERY_COMPLETE_NO_MGMT_NW = 9
VCENTER_DISCOVERY_COMPLETE_PER_TENANT_IP_ROUTE = 10
VCENTER_DISCOVERY_MAKING_SE_OVA = 11
VCENTER_DISCOVERY_RESYNC_FAILED = 12
VCENTER_DISCOVERY_OBJECT_LIMIT_REACHED = 13
VCENTER_DISCOVERY_STATEChoices = (
    (VCENTER_DISCOVERY_BAD_CREDENTIALS, 'VCENTER_DISCOVERY_BAD_CREDENTIALS'),
    (VCENTER_DISCOVERY_RETRIEVING_DC, 'VCENTER_DISCOVERY_RETRIEVING_DC'),
    (VCENTER_DISCOVERY_WAITING_DC, 'VCENTER_DISCOVERY_WAITING_DC'),
    (VCENTER_DISCOVERY_RETRIEVING_NW, 'VCENTER_DISCOVERY_RETRIEVING_NW'),
    (VCENTER_DISCOVERY_ONGOING, 'VCENTER_DISCOVERY_ONGOING'),
    (VCENTER_DISCOVERY_RESYNCING, 'VCENTER_DISCOVERY_RESYNCING'),
    (VCENTER_DISCOVERY_COMPLETE, 'VCENTER_DISCOVERY_COMPLETE'),
    (VCENTER_DISCOVERY_DELETING_VCENTER, 'VCENTER_DISCOVERY_DELETING_VCENTER'),
    (VCENTER_DISCOVERY_FAILURE, 'VCENTER_DISCOVERY_FAILURE'),
    (VCENTER_DISCOVERY_COMPLETE_NO_MGMT_NW, 'VCENTER_DISCOVERY_COMPLETE_NO_MGMT_NW'),
    (VCENTER_DISCOVERY_COMPLETE_PER_TENANT_IP_ROUTE, 'VCENTER_DISCOVERY_COMPLETE_PER_TENANT_IP_ROUTE'),
    (VCENTER_DISCOVERY_MAKING_SE_OVA, 'VCENTER_DISCOVERY_MAKING_SE_OVA'),
    (VCENTER_DISCOVERY_RESYNC_FAILED, 'VCENTER_DISCOVERY_RESYNC_FAILED'),
    (VCENTER_DISCOVERY_OBJECT_LIMIT_REACHED, 'VCENTER_DISCOVERY_OBJECT_LIMIT_REACHED'),
)
SEVM_SUCCESS = 1
SEVM_CREATE_FAIL_NO_HW_INFO = 2
SEVM_CREATE_FAIL_DUPLICATE_NAME = 3
SEVM_CREATE_FAIL_NO_MGMT_NW = 4
SEVM_CREATE_FAIL_NO_CPU = 5
SEVM_CREATE_FAIL_NO_MEM = 6
SEVM_CREATE_FAIL_NO_LEASE = 7
SEVM_CREATE_FAIL_OVF_ERROR = 8
SEVM_CREATE_NO_HOST_VM_NETWORK = 9
SEVM_CREATE_FAIL_NO_PROGRESS = 10
SEVM_CREATE_FAIL_ABORTED = 11
SEVM_CREATE_FAILURE = 12
SEVM_CREATE_FAIL_POWER_ON = 13
SEVM_VNIC_NO_VM = 14
SEVM_VNIC_MAC_ADDR_ERROR = 15
SEVM_VNIC_FAILURE = 16
SEVM_VNIC_NO_PG_PORTS = 17
SEVM_DELETE_FAILURE = 18
SEVM_CREATE_LIMIT_REACHED = 19
SEVM_SET_MGMT_IP_FAILED = 20
SEVM_CREATE_ACCESS_ERROR = 21
SEVM_CREATE_NO_IMAGE = 22
SEVM_VINFRA_UNINITIALIZED = 23
SEVM_CREATE_NO_HOST = 24
SEVM_CREATE_FAIL_NO_MGMT_NW_PORTS = 25
SEVM_INVALID_DATA = 26
SEVM_VCENTER_CONN_FAIL = 28
SEVM_TIMED_OUT = 29
SEVM_NO_SOURCE_CLONE = 30
SEVM_NO_AVAILABILITY_ZONE = 31
SEVM_FLAVOR_UNAVAIL = 32
SEVM_DELETED = 33
SEVM_VINFRA_FAILURE = 34
SEVM_VNIC_FAILURE_QUESTION = 35
SEVM_VNIC_NO_IPS_AVAILABLE = 36
SEVM_NO_MGMT_IP_AVAILABLE = 37
VCENTER_MGR_STATUSChoices = (
    (SEVM_SUCCESS, 'SEVM_SUCCESS'),
    (SEVM_CREATE_FAIL_NO_HW_INFO, 'SEVM_CREATE_FAIL_NO_HW_INFO'),
    (SEVM_CREATE_FAIL_DUPLICATE_NAME, 'SEVM_CREATE_FAIL_DUPLICATE_NAME'),
    (SEVM_CREATE_FAIL_NO_MGMT_NW, 'SEVM_CREATE_FAIL_NO_MGMT_NW'),
    (SEVM_CREATE_FAIL_NO_CPU, 'SEVM_CREATE_FAIL_NO_CPU'),
    (SEVM_CREATE_FAIL_NO_MEM, 'SEVM_CREATE_FAIL_NO_MEM'),
    (SEVM_CREATE_FAIL_NO_LEASE, 'SEVM_CREATE_FAIL_NO_LEASE'),
    (SEVM_CREATE_FAIL_OVF_ERROR, 'SEVM_CREATE_FAIL_OVF_ERROR'),
    (SEVM_CREATE_NO_HOST_VM_NETWORK, 'SEVM_CREATE_NO_HOST_VM_NETWORK'),
    (SEVM_CREATE_FAIL_NO_PROGRESS, 'SEVM_CREATE_FAIL_NO_PROGRESS'),
    (SEVM_CREATE_FAIL_ABORTED, 'SEVM_CREATE_FAIL_ABORTED'),
    (SEVM_CREATE_FAILURE, 'SEVM_CREATE_FAILURE'),
    (SEVM_CREATE_FAIL_POWER_ON, 'SEVM_CREATE_FAIL_POWER_ON'),
    (SEVM_VNIC_NO_VM, 'SEVM_VNIC_NO_VM'),
    (SEVM_VNIC_MAC_ADDR_ERROR, 'SEVM_VNIC_MAC_ADDR_ERROR'),
    (SEVM_VNIC_FAILURE, 'SEVM_VNIC_FAILURE'),
    (SEVM_VNIC_NO_PG_PORTS, 'SEVM_VNIC_NO_PG_PORTS'),
    (SEVM_DELETE_FAILURE, 'SEVM_DELETE_FAILURE'),
    (SEVM_CREATE_LIMIT_REACHED, 'SEVM_CREATE_LIMIT_REACHED'),
    (SEVM_SET_MGMT_IP_FAILED, 'SEVM_SET_MGMT_IP_FAILED'),
    (SEVM_CREATE_ACCESS_ERROR, 'SEVM_CREATE_ACCESS_ERROR'),
    (SEVM_CREATE_NO_IMAGE, 'SEVM_CREATE_NO_IMAGE'),
    (SEVM_VINFRA_UNINITIALIZED, 'SEVM_VINFRA_UNINITIALIZED'),
    (SEVM_CREATE_NO_HOST, 'SEVM_CREATE_NO_HOST'),
    (SEVM_CREATE_FAIL_NO_MGMT_NW_PORTS, 'SEVM_CREATE_FAIL_NO_MGMT_NW_PORTS'),
    (SEVM_INVALID_DATA, 'SEVM_INVALID_DATA'),
    (SEVM_VCENTER_CONN_FAIL, 'SEVM_VCENTER_CONN_FAIL'),
    (SEVM_TIMED_OUT, 'SEVM_TIMED_OUT'),
    (SEVM_NO_SOURCE_CLONE, 'SEVM_NO_SOURCE_CLONE'),
    (SEVM_NO_AVAILABILITY_ZONE, 'SEVM_NO_AVAILABILITY_ZONE'),
    (SEVM_FLAVOR_UNAVAIL, 'SEVM_FLAVOR_UNAVAIL'),
    (SEVM_DELETED, 'SEVM_DELETED'),
    (SEVM_VINFRA_FAILURE, 'SEVM_VINFRA_FAILURE'),
    (SEVM_VNIC_FAILURE_QUESTION, 'SEVM_VNIC_FAILURE_QUESTION'),
    (SEVM_VNIC_NO_IPS_AVAILABLE, 'SEVM_VNIC_NO_IPS_AVAILABLE'),
    (SEVM_NO_MGMT_IP_AVAILABLE, 'SEVM_NO_MGMT_IP_AVAILABLE'),
)
APIC_MODE = 1
NON_APIC_MODE = 2
VCENTER_MODEChoices = (
    (APIC_MODE, 'APIC_MODE'),
    (NON_APIC_MODE, 'NON_APIC_MODE'),
)
DISCOVERY_INIT = 1
DISCOVERY_NETWORK = 2
DISCOVERY_HOST = 3
DISCOVERY_CLUSTER = 4
DISCOVERY_VM = 5
DISCOVERY_COMPLETE = 6
VIMGR_DC_DISC_STATEChoices = (
    (DISCOVERY_INIT, 'DISCOVERY_INIT'),
    (DISCOVERY_NETWORK, 'DISCOVERY_NETWORK'),
    (DISCOVERY_HOST, 'DISCOVERY_HOST'),
    (DISCOVERY_CLUSTER, 'DISCOVERY_CLUSTER'),
    (DISCOVERY_VM, 'DISCOVERY_VM'),
    (DISCOVERY_COMPLETE, 'DISCOVERY_COMPLETE'),
)
VIMGR_SE_NETWORK_ADMIN = 1
VIMGR_SE_UNIFIED_ADMIN = 2
VIMGR_SE_TYPEChoices = (
    (VIMGR_SE_NETWORK_ADMIN, 'VIMGR_SE_NETWORK_ADMIN'),
    (VIMGR_SE_UNIFIED_ADMIN, 'VIMGR_SE_UNIFIED_ADMIN'),
)
VIMGR_SUCCESS = 0
VIMGR_FAILURE = 1
VIMGR_NO_HOST = 2
VIMGR_BAD_CREDENTIALS = 3
VIMGR_DC_REQUIRED = 4
VIMGR_SE_CREATE_FAILURE = 5
VIMGR_SET_VNIC_NW_FAILURE = 6
VIMGR_CONN_FAILURE = 7
VIMGR_VCENTER_VERSION = 8
VIMGR_STATUSChoices = (
    (VIMGR_SUCCESS, 'VIMGR_SUCCESS'),
    (VIMGR_FAILURE, 'VIMGR_FAILURE'),
    (VIMGR_NO_HOST, 'VIMGR_NO_HOST'),
    (VIMGR_BAD_CREDENTIALS, 'VIMGR_BAD_CREDENTIALS'),
    (VIMGR_DC_REQUIRED, 'VIMGR_DC_REQUIRED'),
    (VIMGR_SE_CREATE_FAILURE, 'VIMGR_SE_CREATE_FAILURE'),
    (VIMGR_SET_VNIC_NW_FAILURE, 'VIMGR_SET_VNIC_NW_FAILURE'),
    (VIMGR_CONN_FAILURE, 'VIMGR_CONN_FAILURE'),
    (VIMGR_VCENTER_VERSION, 'VIMGR_VCENTER_VERSION'),
)
VMTYPE_SE_VM = 1
VMTYPE_POOL_SRVR = 2
VM_TypeChoices = (
    (VMTYPE_SE_VM, 'VMTYPE_SE_VM'),
    (VMTYPE_POOL_SRVR, 'VMTYPE_POOL_SRVR'),
)
VNIC_IP_TYPE_DHCP = 1
VNIC_IP_TYPE_STATIC = 2
VNIC_IP_TYPEChoices = (
    (VNIC_IP_TYPE_DHCP, 'VNIC_IP_TYPE_DHCP'),
    (VNIC_IP_TYPE_STATIC, 'VNIC_IP_TYPE_STATIC'),
)
VNIC_VSWITCH = 1
VNIC_DVS = 2
VNIC_NW_TYPEChoices = (
    (VNIC_VSWITCH, 'VNIC_VSWITCH'),
    (VNIC_DVS, 'VNIC_DVS'),
)

############################################################################
#
# AVI CONFIDENTIAL
# __________________
#
# [2013] - [2018] Avi Networks Incorporated
# All Rights Reserved.
#
# NOTICE: All information contained herein is, and remains the property
# of Avi Networks Incorporated and its suppliers, if any. The intellectual
# and technical concepts contained herein are proprietary to Avi Networks
# Incorporated, and its suppliers and are covered by U.S. and Foreign
# Patents, patents in process, and are protected by trade secret or
# copyright law, and other laws. Dissemination of this information or
# reproduction of this material is strictly forbidden unless prior written
# permission is obtained from Avi Networks Incorporated.
###

import time
from avi.protobuf.vi_mgr_common_pb2 import VIMgrIPSubnetRuntime as VIMgrIPSubnetRuntimeProto



class VIMgrIPSubnetRuntime (models.Model, GenBase):
    pb_class = VIMgrIPSubnetRuntimeProto
    json = True
    random_uuid = True

    @staticmethod
    def gen_uuid(id=1):
        return 'vimgripsubnetruntime-%s' % uuid.uuid4()

    def save(self, update_time=False, *args, **kwargs):
        if not self.slug:
            if not self.uuid:
                self.uuid = self.gen_uuid()
            self.slug = self.uuid
        if (hasattr(self, '_last_modified') and
                (update_time or hasattr(self, '__update_time'))):
            delattr(self, '__update_time')
            self._last_modified = str(int(time.time()*1000000))
            if hasattr(self, 'json_data'):
                self.json_data['_last_modified'] = self._last_modified
        super(VIMgrIPSubnetRuntime, self).save(*args, **kwargs)

    def save_pb(self, *args, **kwargs):
        save_model_object(self)
        super(VIMgrIPSubnetRuntime, self).save(*args, **kwargs)

    def delete(self):
        delete_model_object(self)
        super(VIMgrIPSubnetRuntime, self).delete()

    def serialize(self):
        return self.protobuf().SerializeToString()

    def _protobuf(self):
        pb = VIMgrIPSubnetRuntimeProto()
        if hasattr(self, 'json_data') and self.json_data:
            updated_json = copy.deepcopy(self.json_data)
            transform_json_refs_to_uuids(updated_json, refs=self.references)
            json2pb(pb, updated_json, replace=True)
        if getattr(self, 'uuid', None):
            pb.uuid = self.uuid
        pb.ClearField('name')
        if self.name is not None:
            pb.name = self.name
        return pb


    def protobuf(self, decrypt=False):
        return get_model_protobuf(self, decrypt=decrypt)


    uuid = models.CharField(max_length=128, editable=False, unique=True)
    slug = AviSlugField(max_length=128, null=False, blank=False)
    pb_data = ByteaField()
    json_data = AviJsonField()
    name = models.TextField(null=False, blank=False)
    _last_modified = models.CharField(max_length=16, null=True, blank=True)

    references = {
    }
    sensitive_fields = {
    }
    pb_check_fields = {
    }

    @staticmethod
    def get_extension_fields():
        return []

    class Meta:
        unique_together = ('name',)


############################################################################
#
# AVI CONFIDENTIAL
# __________________
#
# [2013] - [2018] Avi Networks Incorporated
# All Rights Reserved.
#
# NOTICE: All information contained herein is, and remains the property
# of Avi Networks Incorporated and its suppliers, if any. The intellectual
# and technical concepts contained herein are proprietary to Avi Networks
# Incorporated, and its suppliers and are covered by U.S. and Foreign
# Patents, patents in process, and are protected by trade secret or
# copyright law, and other laws. Dissemination of this information or
# reproduction of this material is strictly forbidden unless prior written
# permission is obtained from Avi Networks Incorporated.
###

import time
from avi.protobuf.vi_mgr_common_pb2 import VIDCInfo as VIDCInfoProto

from models_common import Tenant


class VIDCInfo (models.Model, GenBase):
    pb_class = VIDCInfoProto
    json = True
    random_uuid = True

    @staticmethod
    def gen_uuid(id=1):
        return 'vidcinfo-%s' % uuid.uuid4()

    def save(self, update_time=False, *args, **kwargs):
        if not self.slug:
            if not self.uuid:
                self.uuid = self.gen_uuid()
            self.slug = self.uuid
        if (hasattr(self, '_last_modified') and
                (update_time or hasattr(self, '__update_time'))):
            delattr(self, '__update_time')
            self._last_modified = str(int(time.time()*1000000))
            if hasattr(self, 'json_data'):
                self.json_data['_last_modified'] = self._last_modified
        super(VIDCInfo, self).save(*args, **kwargs)

    def save_pb(self, *args, **kwargs):
        save_model_object(self)
        super(VIDCInfo, self).save(*args, **kwargs)

    def delete(self):
        delete_model_object(self)
        super(VIDCInfo, self).delete()

    def serialize(self):
        return self.protobuf().SerializeToString()

    def _protobuf(self):
        pb = VIDCInfoProto()
        if hasattr(self, 'json_data') and self.json_data:
            updated_json = copy.deepcopy(self.json_data)
            transform_json_refs_to_uuids(updated_json, refs=self.references)
            json2pb(pb, updated_json, replace=True)
        if getattr(self, 'uuid', None):
            pb.uuid = self.uuid
        pb.name = self.name
        pb.ClearField('tenant_uuid')
        if self.tenant_ref is not None:
            pb.tenant_uuid = self.tenant_ref.uuid
        return pb


    def protobuf(self, decrypt=False):
        return get_model_protobuf(self, decrypt=decrypt)


    uuid = models.CharField(max_length=128, editable=False, unique=True)
    slug = AviSlugField(max_length=128, null=False, blank=False)
    pb_data = ByteaField()
    json_data = AviJsonField()
    name = models.TextField(null=False, blank=False)
    tenant_ref = models.ForeignKey(Tenant, null=True, blank=True, related_name="vidcinfo_tenant_ref", on_delete=models.PROTECT)
    _last_modified = models.CharField(max_length=16, null=True, blank=True)

    references = {
        'root.tenant_uuid': ('belongs_to', u'Tenant', 'cafd4204a7334bdc'),
    }
    sensitive_fields = {
    }
    pb_check_fields = {
    }

    @staticmethod
    def get_extension_fields():
        return []

    class Meta:
        unique_together = ('name','tenant_ref',)


############################################################################
#
# AVI CONFIDENTIAL
# __________________
#
# [2013] - [2018] Avi Networks Incorporated
# All Rights Reserved.
#
# NOTICE: All information contained herein is, and remains the property
# of Avi Networks Incorporated and its suppliers, if any. The intellectual
# and technical concepts contained herein are proprietary to Avi Networks
# Incorporated, and its suppliers and are covered by U.S. and Foreign
# Patents, patents in process, and are protected by trade secret or
# copyright law, and other laws. Dissemination of this information or
# reproduction of this material is strictly forbidden unless prior written
# permission is obtained from Avi Networks Incorporated.
###

import time
from avi.protobuf.vi_mgr_common_pb2 import VIPGNameInfo as VIPGNameInfoProto

from models_common import Tenant


class VIPGNameInfo (models.Model, GenBase):
    pb_class = VIPGNameInfoProto
    json = True
    random_uuid = True

    @staticmethod
    def gen_uuid(id=1):
        return 'vipgnameinfo-%s' % uuid.uuid4()

    def save(self, update_time=False, *args, **kwargs):
        if not self.slug:
            if not self.uuid:
                self.uuid = self.gen_uuid()
            self.slug = self.uuid
        if (hasattr(self, '_last_modified') and
                (update_time or hasattr(self, '__update_time'))):
            delattr(self, '__update_time')
            self._last_modified = str(int(time.time()*1000000))
            if hasattr(self, 'json_data'):
                self.json_data['_last_modified'] = self._last_modified
        super(VIPGNameInfo, self).save(*args, **kwargs)

    def save_pb(self, *args, **kwargs):
        save_model_object(self)
        super(VIPGNameInfo, self).save(*args, **kwargs)

    def delete(self):
        delete_model_object(self)
        super(VIPGNameInfo, self).delete()

    def serialize(self):
        return self.protobuf().SerializeToString()

    def _protobuf(self):
        pb = VIPGNameInfoProto()
        if hasattr(self, 'json_data') and self.json_data:
            updated_json = copy.deepcopy(self.json_data)
            transform_json_refs_to_uuids(updated_json, refs=self.references)
            json2pb(pb, updated_json, replace=True)
        if getattr(self, 'uuid', None):
            pb.uuid = self.uuid
        pb.name = self.name
        pb.ClearField('tenant_uuid')
        if self.tenant_ref is not None:
            pb.tenant_uuid = self.tenant_ref.uuid
        return pb


    def protobuf(self, decrypt=False):
        return get_model_protobuf(self, decrypt=decrypt)


    uuid = models.CharField(max_length=128, editable=False, unique=True)
    slug = AviSlugField(max_length=128, null=False, blank=False)
    pb_data = ByteaField()
    json_data = AviJsonField()
    name = models.TextField(null=False, blank=False)
    tenant_ref = models.ForeignKey(Tenant, null=True, blank=True, related_name="vipgnameinfo_tenant_ref", on_delete=models.PROTECT)
    _last_modified = models.CharField(max_length=16, null=True, blank=True)

    references = {
        'root.tenant_uuid': ('belongs_to', u'Tenant', 'c4f6cbe01b774fe1'),
    }
    sensitive_fields = {
    }
    pb_check_fields = {
    }

    @staticmethod
    def get_extension_fields():
        return []

    class Meta:
        unique_together = ('name','tenant_ref',)

